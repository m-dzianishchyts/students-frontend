<h1 class="dialog__title" mat-dialog-title>Students sign-up form</h1>
<div class="dialog__content" mat-dialog-content>
    <form (ngSubmit)="onSubmit()" [formGroup]="signUpForm" class="form__container">
        <mat-form-field appearance="outline" class="form__field" color="primary">
            <mat-label>Enter your email</mat-label>
            <input formControlName="email" matInput placeholder="email@example.com" required/>
            <mat-error *ngIf="controls['email'].errors?.['required']">Email is required</mat-error>
            <mat-error *ngIf="controls['email'].errors?.['email']">Invalid email</mat-error>
        </mat-form-field>
        <div class="form__name-section">
            <mat-form-field appearance="outline" class="form__field" color="primary">
                <mat-label>First name</mat-label>
                <input formControlName="firstName" matInput required/>
                <mat-error *ngIf="controls['firstName'].errors?.['required']">First name is required</mat-error>
                <mat-error *ngIf="controls['firstName'].errors?.['maxlength']">Too long</mat-error>
                <mat-error *ngIf="controls['firstName'].errors?.['pattern']">Letters, spaces and (,.'-") symbols are allowed</mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline" class="form__field" color="primary">
                <mat-label>Last name</mat-label>
                <input formControlName="lastName" matInput required/>
                <mat-error *ngIf="controls['lastName'].errors?.['required']">Last name is required</mat-error>
                <mat-error *ngIf="controls['lastName'].errors?.['maxlength']">Too long</mat-error>
                <mat-error *ngIf="controls['lastName'].errors?.['pattern']">Letters, spaces and (,.'-") symbols are allowed</mat-error>
            </mat-form-field>
        </div>
        <div class="form__password-section">
            <mat-form-field appearance="outline" class="form__field" color="primary">
                <mat-label>Password</mat-label>
                <input [type]="'password'" formControlName="password" matInput required/>
                <mat-error *ngIf="controls['password'].errors?.['required']">Password is required</mat-error>
                <mat-error *ngIf="controls['password'].errors?.['minlength']">Too short</mat-error>
                <mat-error *ngIf="controls['password'].errors?.['maxlength']">Too long</mat-error>
                <mat-error *ngIf="controls['password'].errors?.['pattern']">At least one letter and one digit</mat-error>
                <mat-error *ngIf="controls['password'].errors?.['passwordsMismatch']">Passwords do not match</mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline" class="form__field" color="primary">
                <mat-label>Confirm password</mat-label>
                <input [type]="'password'" formControlName="confirmPassword" matInput required/>
                <mat-error *ngIf="controls['confirmPassword'].errors?.['required']">Confirm password</mat-error>
                <mat-error *ngIf="controls['confirmPassword'].errors?.['minlength']">Too short</mat-error>
                <mat-error *ngIf="controls['confirmPassword'].errors?.['maxlength']">Too long</mat-error>
                <mat-error *ngIf="controls['confirmPassword'].errors?.['pattern']">At least one letter and one digit</mat-error>
            </mat-form-field>
        </div>
        <button [disabled]="loading || !form.valid" class="form__submit" color="primary" mat-flat-button>Sign up</button>
        <mat-error *ngIf="!!submitError()" class="dialog__error">{{ submitError() }}</mat-error>
        <p (click)="switchToSignInDialog()" class="link">I already have an account</p>
    </form>
</div>
